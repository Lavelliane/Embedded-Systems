/* Main.c file generated by New Project wizard
 *
 * Created:   Thu Mar 23 2023
 * Processor: PIC16F877A
 * Compiler:  MPLAB XC8
 */

#include <xc.h>

void main(void)
{
 SPBRG = 0x19; // 9.6K baud rate @ FOSC=4MHz, asynchronous high speed
 // (see formula in Table 10-1)
 SYNC = 0; // asynchronous mode (TXSTA reg)
 SPEN = 1; // enable serial port (RCSTA reg)
 RX9 = 0; // 8-bit reception (TXSTA reg)
 BRGH = 1; // asynchronous high-speed (TXSTA reg)
 CREN = 1; // enable continuous receive (RCSTA reg)
 TRISB = 0x00; // set all ports in PORTB to output
 PORTB = 0x00; // all LEDs are off
    for(;;) // foreground routine
    {
    while(!RCIF); // wait until receive buffer is full
    PORTB = RCREG; // read the receive register
    }
} 